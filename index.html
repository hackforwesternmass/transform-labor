<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Transform-labor : Transform a local labor market report into an effective tool to tell the story of work in our region" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>The Story of Work</title>
  <script type="text/javascript" src="//www.google.com/jsapi"></script>
  <script type="text/javascript">
    google.load('visualization', '1', {packages: ['corechart']});
  </script>
  <script type="text/javascript" src="fhlabor.js"></script>
  <script type="text/javascript">
    google.load('visualization', '1', {packages: ['motionchart']});

    function drawVisualization(dataFn, chartId) {
		var data = getData(dataFn);
		var chart = new google.visualization.MotionChart(
		     document.getElementById(chartId));
		var options = {};
		options['state'] = '{ "yLambda":1,"yZoomedDataMax":1,"xZoomedDataMin":0,"dimensions":{"iconDimensions":["dim0"]},"iconType":"BUBBLE","yAxisOption":"4","nonSelectedAlpha":0.4,"colorOption":"_UNIQUE_COLOR","xAxisOption":"3","orderedByX":false,"xZoomedIn":false,"iconKeySettings":[],"playDuration":15000,"xLambda":1,"yZoomedIn":false,"xZoomedDataMax":1369,"time":"2013","showTrails":false	,"sizeOption":"2","yZoomedDataMin":-0.5140489914,"duration":{"timeUnit":"D","multiplier":1},"uniColorForNonSelected":false,"orderedByY":false}';
		options['width'] = 800;
		options['height'] = 400;
		//options['showXMetricPicker'] = false;
		//options['showYMetricPicker'] = false;
		chart.draw(data, options);
    }

	function drawFH(){ 
		drawVisualization(
			function(data){
				data.addRows(getFrankHamp2012(data));
				data.addRows(getFrankHamp2011(data));
				data.addRows(getFrankHamp2010(data));
				data.addRows(getFrankHamp2009(data));
				data.addRows(getFrankHamp2008(data));
				data.addRows(getFrankHamp2007(data));
				data.addRows(getFrankHamp2006(data));
				data.addRows(getFrankHamp2005(data));
				data.addRows(getFrankHamp2004(data));
				data.addRows(getFrankHamp2003(data));
			},
			'fh-chart'
		); 
	}
	function reorderRow(row) {
		var newRow = [ row[0].replace(/ .*/i, ""), row[3], row[4], row[5], row[2], row[0] ];
		
		return newRow;
	}
	
	function reorder(data)
	{
		var newData = [];
		for (var i = 0; i < data.length; ++i) {
			newData.push(reorderRow(data[i]));
		}
		return newData;
	}
	
	function getCompData()
	{
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'Id');
		data.addColumn('number', 'WagesWeekly');
		data.addColumn('number', 'Growth');
		data.addColumn('string', 'County');
		data.addColumn('number', 'Employment');
		data.addColumn('string', 'Industry');
		
		data.addRows(reorder(getFrankHamp2012(data)));
		data.addRows(reorder(getHampden2012(data)));

		return data;
	}
	
	function drawComp() {
	    // Create and populate the data table.
	    var data = getCompData();

	    var options = {
	      title: 'Comparison',
	      vAxis: {title: 'Growth'},
	      hAxis: {title: 'Wages'},
	      bubble: {textStyle: {fontSize: 11}}
	    };

	    // Create and draw the visualization.
	    var chart = new google.visualization.BubbleChart(
	        document.getElementById('comp-chart'));
	    chart.draw(data, options);
	}
	
	
	google.setOnLoadCallback(function() { drawFH(); drawComp(); });
	
  </script>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/hackforwesternmass/transform-labor">View on GitHub</a>

          <h1 id="project_title">The Story of Work</h1>
          <h2 id="project_tagline">Transform a local labor market report into an effective tool to tell the story of work in our region</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/hackforwesternmass/transform-labor/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/hackforwesternmass/transform-labor/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
Industries by Wage and Growth<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a></h3>

<div id="fh-chart" style="width: 800px; height: 400px;"></div>

<h3><a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a></h3>

<p></p>
<p></p>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Transform-labor maintained by <a href="https://github.com/hackforwesternmass">hackforwesternmass</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
